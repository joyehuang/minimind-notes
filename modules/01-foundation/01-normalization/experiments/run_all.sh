#!/bin/bash

# 一键运行所有实验
# 用法: bash run_all.sh

echo "======================================================================"
echo "🚀 运行 Normalization 模块的所有实验"
echo "======================================================================"
echo ""

# 检查是否在正确的目录
if [ ! -f "exp1_gradient_vanishing.py" ]; then
    echo "❌ 错误：请在 experiments/ 目录下运行此脚本"
    echo "   cd modules/01-foundation/01-normalization/experiments"
    exit 1
fi

# 创建结果目录
mkdir -p results

# 实验 1
echo "----------------------------------------------------------------------"
echo "🔬 实验 1: 梯度消失可视化"
echo "----------------------------------------------------------------------"
python exp1_gradient_vanishing.py
if [ $? -eq 0 ]; then
    echo "✅ 实验 1 完成"
else
    echo "❌ 实验 1 失败"
    exit 1
fi
echo ""

# TODO: 实验 2 和 3 将在后续添加
echo "----------------------------------------------------------------------"
echo "📝 提示: 实验 2 和 3 正在开发中..."
echo "----------------------------------------------------------------------"
echo ""

# 总结
echo "======================================================================"
echo "✅ 所有实验完成！"
echo "======================================================================"
echo ""
echo "📊 查看结果:"
echo "   ls results/"
echo ""
echo "📖 下一步:"
echo "   1. 查看生成的图表"
echo "   2. 阅读 ../teaching.md 理解理论"
echo "   3. 完成 ../quiz.md 自测题"
echo ""
